#version 410 core

layout(location = 0) in vec3 vPosition;
layout(location = 1) in vec3 vNormal;

uniform float threshold = .958f;
uniform vec4 vColor;
uniform vec3 planeNorm = vec3(0,0,1.f);

layout(location = 0) out vec4 fragColor;


void main()
{
  float nLength = dot(vNormal, vNormal);
  fragColor = vColor;
  
  int x = int ( !(dot(vNormal, planeNorm) < threshold * length(vNormal)) );
  
  fragColor.a = max(fragColor.a, 
    1.f * x);
}

