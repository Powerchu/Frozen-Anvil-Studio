#version 330 core

in vec3 vPosition;
in vec3 vNormal;
in vec2 vUV;

uniform float threshold = 0.01f;
uniform vec4 vColor;
uniform vec3 planeNorm = vec3(0,0,1.f);

layout(location = 0) out vec4 fragColor;


void main()
{
  fragColor = vec4(normalize(vNormal * vNormal), vColor.a);
  float nLength = length(vNormal);
  
  if (dot(normalize(vNormal), planeNorm) < threshold / length(vNormal))
  {
	fragColor.a = 1.f;
  }
}

